<div class="backBtnDiv">
    <button type="button" class="btn btn-back btn-outline-dark back-btn ms-4" (click)="goBackToHome()">
    <i class="bi bi-arrow-left"></i> Home
</button>
</div>

<div class="container mt-4 mb-5">
  <div class="d-flex justify-content-between align-items-center mb-4">
    
    <h4 class="fw-bold text-primary flex-grow-1 text-center m-0">
      Add Loan Details
    </h4>
  </div>

  <div class="form-card shadow-sm p-4 rounded-4 bg-white">
    <form #loanForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="row g-3">
        <div class="col-md-6">
          <label class="form-label">Borrower Name <span class="text-danger">*</span></label>
          <input type="text" class="form-control" name="borrowerName" [(ngModel)]="loan.borrowerName" required />
        </div>

        <div class="col-md-6">
          <label class="form-label">Borrower Contact <span class="text-danger">*</span></label>
          <input
            type="text"
            class="form-control"
            name="borrowerContact"
            [(ngModel)]="loan.borrowerContact"
            pattern="[0-9]*"
            maxlength="10"
            inputmode="numeric"
            placeholder="Enter Contact Number"
            required
          />
        </div>

        <div class="col-md-6">
          <label class="form-label">Total Principal <span class="text-danger">*</span></label>
          <input
            type="number"
            class="form-control"
            name="totalPrincipal"
            [(ngModel)]="loan.principalAMT"
            (input)="calculateTotal()"
            required
          />
        </div>

        <div class="col-md-6">
          <label class="form-label">Interest Percentage (%) <span class="text-danger">*</span></label>
          <input
            type="number"
            class="form-control"
            name="intPercentage"
            [(ngModel)]="loan.int"
            (input)="calculateTotal()"
            required
          />
        </div>

        <div class="col-md-6">
          <label class="form-label">Total Amount to be Paid</label>
          <input
            type="number"
            class="form-control"
            name="totalAmount"
            [(ngModel)]="loan.totalAmount"
          />
        </div>

        <div class="col-md-6">
          <label class="form-label">Security Asset</label>
          <input
            type="text"
            class="form-control"
            name="securityAsset"
            [(ngModel)]="loan.securityAsset"
          />
        </div>

        <div class="col-md-6">
          <label class="form-label">Start Date <span class="text-danger">*</span></label>
          <input
            type="date"
            class="form-control inpCalendar"
            name="startDate"
            [(ngModel)]="loan.startDate"
            required
          />
        </div>

        <div class="col-md-6">
          <label class="form-label">End Date <span class="text-danger">*</span></label>
          <input
            type="date"
            class="form-control inpCalendar"
            name="endDate"
            [(ngModel)]="loan.endDate"
            required
          />
        </div>

        <div class="col-md-6">
          <label class="form-label">Total Tenure (months)</label>
          <input
            type="number"
            class="form-control"
            name="totalTenure"
            [(ngModel)]="loan.totalTenure"
          />
        </div>

        <div class="col-md-6">
          <label class="form-label">Investor Name</label>
          <input type="text" class="form-control" name="investor" [(ngModel)]="loan.investor" />
        </div>

        <div class="col-md-6">
          <label class="form-label">Investor Percentage (%)</label>
          <input type="number" class="form-control" name="investorPercentage" [(ngModel)]="loan.investorPercentage" />
        </div>
      </div>

      <div class="text-center mt-4">
        <button class="btn btn-primary px-5 me-3" type="submit" [disabled]="loanForm.invalid">
          Submit
        </button>
        <button class="btn btn-secondary px-5" type="button" (click)="clearForm()">Clear</button>
      </div>
    </form>
  </div>

  <nav class="bottom-nav">
  <a routerLink="/home" class="nav-btn">
    <i class="bi bi-house-door-fill"></i>
    <span>Home</span>
  </a>
  <a routerLink="/viewLoans" class="nav-btn">
    <i class="bi bi-plus-circle-fill"></i>
    <span>View Ongoing Loan</span>
  </a>
  <a routerLink="/more-Actions" class="nav-btn">
    <i class="bi bi-grid-fill"></i>
    <span>More</span>
  </a>
</nav>

</div>
